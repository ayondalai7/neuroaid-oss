
:root{
  --bg:#fffaf7;
  --header:#ffffff;
  --surface:#ffffff;
  --surface-alt:#fff2e8;
  --border:#ffd9c7;
  --ink:#241a15;
  --muted:#7b655d;
  --accent:#f97316;
  --bubble-user:#ffedd5;   
  --bubble-ai:#ffffff;     
  --shadow:0 10px 28px rgba(0,0,0,.08);
  --shadow-soft:0 6px 18px rgba(0,0,0,.06);
  --success:#16a34a;
  --danger:#ef4444;
}


.stApp,[data-testid="stAppViewContainer"]>.main{
  background:var(--bg)!important;color:var(--ink)
}
[data-testid="stHeader"]{background:transparent!important}

/*  Navbar  */
header.navbar {
  position: fixed;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2000;
  width: 90%;
  max-width: 960px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 18px;
  border-radius: 28px; 
  border: 2px solid #00ffe0;
  background: rgba(255, 255, 255, 0.55);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 0 6px #00ffe0,
              0 0 14px rgba(0,255,224,0.6),
              inset 0 0 6px rgba(255,255,255,0.35);
  overflow: visible;
}

.nav-center{display:flex; align-items:center; gap:10px; font-weight:600}

header.navbar .status-pill {
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:999px;
  border:1.5px solid #00ffe0;
  background:rgba(255,255,255,.65);
  box-shadow: inset 0 0 6px rgba(255,255,255,.4), 0 0 10px rgba(0,255,224,.35);
  font-size:13px; white-space:nowrap;
}

header.navbar .nav-right {
  display:flex; align-items:center; gap:14px
}

header.navbar .nav-icon {
  width:32px;height:32px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  border:1px solid var(--border); background:var(--surface); color:var(--ink);
  transition:transform .1s ease, background .2s ease, filter .2s ease;
}
header.navbar .nav-icon:hover {
  transform:scale(1.05);
  background:var(--surface-alt);
  filter:drop-shadow(0 0 6px #00ffe0);
}
header.navbar .nav-icon svg {
  display:block;margin:auto
}


header.navbar.shrink {
  padding:8px 14px; border-width:1.5px;
  box-shadow:0 0 4px #00ffe0, 0 0 10px rgba(0,255,224,.45),
             inset 0 0 5px rgba(255,255,255,.35);
}


[data-testid="stAppViewContainer"] .main .block-container > div:empty,
[data-testid="stAppViewContainer"] .main .block-container > div p:empty {
  display:none!important;height:0!important;margin:0!important;padding:0!important;
}

[data-testid="stAppViewContainer"] .main .block-container{padding-top:84px}


.chat-container .status-pill{display:none!important}


header.navbar ~ header.navbar{display:none!important}
header.navbar:not(:first-of-type){display:none!important}


[data-testid="stSidebar"] {
  background:#f3eee9!important;
  border-right:1px solid #eadcd1;
  box-shadow:inset -2px 0 6px rgba(0,0,0,0.05)
}


.chat-container{
  background:var(--surface); border:1px solid var(--border);
  border-radius:22px; box-shadow:var(--shadow);
  padding:18px; max-width:880px; margin:0 auto;
}
.chat-title{margin:0 0 12px 0}


.msg{display:flex; margin:12px 0}
.msg.user{justify-content:flex-end}
.msg.assistant{justify-content:flex-start}

.bubble{
  max-width:80%;
  padding:12px 16px; border-radius:18px; line-height:1.58;
  animation:fadeIn .25s ease both;
}
.msg.user .bubble{background:var(--bubble-user); color:#1d1d1d; border-bottom-right-radius:8px}
.msg.assistant .bubble{background:var(--bubble-ai); color:#222; border-bottom-left-radius:8px}


.bubble h1,.bubble h2,.bubble h3,.bubble h4{margin:.25rem 0 .35rem; line-height:1.25}
.bubble ul,.bubble ol{padding-left:1.15rem; margin:.35rem 0 .55rem}
.bubble li{margin:.15rem 0}


.typing{display:inline-flex; gap:4px}
.typing span{width:6px;height:6px;background:var(--muted);border-radius:50%;animation:blink 1s infinite}
.typing span:nth-child(2){animation-delay:.2s}
.typing span:nth-child(3){animation-delay:.4s}
.cursor{display:inline-block;width:8px;background:var(--ink);margin-left:2px;animation:blink 1s infinite}

@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}
@keyframes fadeIn{from{opacity:0; transform:translateY(2px)} to{opacity:1; transform:none}}


@media (max-width:600px){
  .navbar{flex-direction:column; gap:8px; text-align:center}
  .nav-center{order:1}
  .nav-right{order:2; justify-content:center}
  .chat-container{padding:14px; border-radius:18px}
  .bubble{max-width:90%}
}


.status-info {
  position: relative;
  cursor: pointer;
  transition: transform 0.15s ease, background 0.2s ease;
}
.status-info:hover {
  transform: scale(1.12);
  background: var(--surface-alt);
  border-radius: 50%;
  filter: drop-shadow(0 0 6px #00ffe0);
}
.status-info::after {
  content: attr(data-status);
  position: absolute;
  top: 40px;
  left: 50%;
  transform: translateX(-50%);
  display: none;
  padding: 6px 12px;
  background: rgba(255,255,255,0.95);
  border: 1.5px solid #00ffe0;
  border-radius: 999px;
  white-space: nowrap;
  font-size: 13px;
  box-shadow: 0 0 6px #00ffe0, inset 0 0 6px rgba(255,255,255,.4);
  z-index: 3000;
  pointer-events: none;
}
.status-info:hover::after { display: block }


.crisis.small {
  display: inline-block;
  font-size: 13px;
  padding: 6px 10px;
  border-radius: 999px;
  background: #fff6f6;
  border: 1px solid var(--danger);
  color: var(--danger);
  cursor: pointer;
  margin: 8px 0;
  position: relative;
}
.crisis.small:hover { background: #ffeaea }

.emergency-menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 6px;
  background: #fff;
  border: 1px solid var(--danger);
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  padding: 8px 12px;
  z-index: 100;
  animation: fadeIn 0.25s ease both;
  min-width: 160px;
}
.crisis.small:hover .emergency-menu,
.crisis.small:focus .emergency-menu { display:block }

.emergency-menu ul {list-style:none;margin:0;padding:0}
.emergency-menu li {margin:6px 0}
.emergency-menu a {
  text-decoration:none; font-size:14px; color:var(--danger);
  font-weight:600; display:block; padding:4px 6px; border-radius:6px;
  transition: background 0.2s;
}
.emergency-menu a:hover { background:#ffe5e5 }
